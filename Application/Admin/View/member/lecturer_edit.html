<extend name="public/base" />
<block name="main">
<script src="__PUBLIC__/web/laydate/laydate.js"></script>
<style>
#studio span{cursor:pointer;}
.laydate_box, .laydate_box * {
    box-sizing:content-box;
}
</style>
<div class="tpl-content-wrapper">
    <div class="tpl-content-page-title">
        讲师修改
    </div>
    <ol class="am-breadcrumb">
        <li><a href="{:U('index/index')}" class="am-icon-home">首页</a></li>
        <li><a href="{:U('member/lecturer')}">讲师管理</a></li>
        <li class="am-active">讲师修改</li>
    </ol>
    <div class="tpl-portlet-components">
        <div class="portlet-title">
            <div class="caption font-green bold">
                <span class="am-icon-code"></span> 修改
            </div>
            <div class="tpl-portlet-input tpl-fz-ml">
                <!-- <div class="portlet-input input-small input-inline">
                    <div class="input-icon right">
                        <i class="am-icon-search"></i>
                        <input type="text" class="form-control form-control-solid" placeholder="搜索..."> </div>
                </div> -->
            </div>
        </div>

        <div class="tpl-block">

            <div class="am-g">
                <div class="tpl-form-body tpl-form-line">
                    <form class="am-form tpl-form-line-form" enctype="multipart/form-data" method="post" action="">
                        <input type="hidden" name="lecturer_id" value="{$lectureres['lecturer_id']}">


                       <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">讲师编号 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" name="numbering" class="tpl-form-input" id="user-name" placeholder="讲师编号" onfocus="this.blur()" value="{$lectureres.numbering}"><p></p>
                            </div>
                        </div>
                        <!-- <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">身份证 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" name="ids" class="tpl-form-input" id="user-name" placeholder="身份证" value="{$data.ids}">
                            </div>
                        </div> -->

                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">姓名 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" name="realname" class="tpl-form-input" id="user-name" placeholder="姓名" value="{$lectureres.realname}"><p></p>
                            </div>
                        </div>
                         <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">手机号 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" name="tel" class="tpl-form-input" id="user-name" placeholder="电话" value="{$lectureres.tel}"><p></p>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">邮箱 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" name="email" class="tpl-form-input" id="user-email" placeholder="123456@163.com" onfocus="this.blur()" value="{$lectureres.email}" ><p></p>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">联系地址 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" name="address" class="tpl-form-input" id="user-name" placeholder="联系地址" value="{$lectureres.address}">
                            </div>
                        </div>

                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">性别 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <select name="sex" id="" class="tpl-form-input">
                                    <option value="" style="display:none;">选择性别</option>
                                    <option value="1" <if condition="$lectureres['sex'] eq 1">selected</if> >男</option>
                                    <option value="2" <if condition="$lectureres['sex'] eq 2">selected</if> >女</option>
                                </select>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">出生日期 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" onclick="laydate()" name="birth" class="tpl-form-input" id="user-name" placeholder="出生年月" value="{$lectureres.birth}">
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">工作年限 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" name="gongzuonianxian" class="tpl-form-input" id="user-name" placeholder="工作年限" value="{$lectureres.gongzuonianxian}"><p></p>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-3 am-form-label">注册时间 <span class="tpl-form-line-small-title"></span></label>
                            <div class="am-u-sm-9">
                                <input type="text" onclick="laydate()" name="zidingtime" class="tpl-form-input" id="birth" placeholder="" value="{$lectureres.zidingtime}">
                            </div>
                        </div>
                        <div class="am-form-group">
                        <label for="user-name" class="am-u-sm-3 am-form-label">科目选择</label>
                        <div class="am-u-sm-9">
                            <!-- <volist name="data" id="auth">
                            <label class="am-checkbox-inline">
                                <input type="checkbox" name="subject[]" value="{$auth['subject_id']}"
                                    <if condition="$group_data['is_array'] eq 1">
                                        <volist name="group_data['subject']" id="th">
                                            <if condition="$auth['subject_id'] eq $th">
                                                checked
                                            </if>
                                        </volist>
                                    <else/>
                                        <if condition="$auth['subject_id'] eq $group_data['subject']">
                                            checked
                                        </if>
                                    </if>> {$auth['agencyrealname']}--{$auth['subject_name']}
                            </label>
                            </volist> -->
                            <!-- 当前机构 -->
                            <volist name="ass" id="auth">
                            <label class="am-checkbox-inline">
                                <input type="checkbox" name="subject[]" value="{$auth['subject_id']}"
                                    <if condition="$group_data['is_array'] eq 1">
                                        <volist name="group_data['subject']" id="th">
                                            <if condition="$auth['subject_id'] eq $th">
                                                checked
                                            </if>
                                        </volist>
                                    <else/>
                                        <if condition="$auth['subject_id'] eq $group_data['subject']">
                                            checked
                                        </if>
                                    </if>> {$auth['agencyrealname']}--{$auth['subject_name']}
                            </label>
                            </volist>
                            <!-- 其他机构 -->
                            <volist name="abb" id="auth">
                            <label class="am-checkbox-inline">
                                <input type="checkbox" onclick="return false;" name="subject[]" value="{$auth['subject_id']}"
                                    <if condition="$group_data['is_array'] eq 1">
                                        <volist name="group_data['subject']" id="th">
                                            <if condition="$auth['subject_id'] eq $th">
                                                checked
                                            </if>
                                        </volist>
                                    <else/>
                                        <if condition="$auth['subject_id'] eq $group_data['subject']">
                                            checked
                                        </if>
                                    </if>> <span style="color:#CCCCCC;">{$auth['agencyrealname']}--{$auth['subject_name']}</span>
                            </label>
                            </volist>
                        </div>
                    </div>



                        <div class="am-form-group">
                        <label for="user-intro" class="am-u-sm-3 am-form-label">简介</label>
                        <div class="am-u-sm-9">
                            <textarea class="" rows="5" name="description" id="user-intro" placeholder="{$lectureres.description}">{$lectureres.description}</textarea>
                        </div>
                    </div>



                        <div class="am-form-group">
                            <div class="am-u-sm-9 am-u-sm-push-3">
                                <button type="submit" class="am-btn am-btn-primary tpl-btn-bg-color-success ">提交</button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>


    </div>
</div>

<script type="text/javascript">
    $(function(){
        var realname = false;
        var tel = false;
        var email = false;
        var numeric = false;
        var gzn = false;
        //验证姓名
        $('input[name=realname]').blur(function(){
            var na = $(this).val();
            if(na.length <= 1){
                $(this).next().html('*姓名不能为空！');
                return realname = false;
            }else{

                $(this).next().html('');
                return realname = true;
            }
        })
        //验证电话
        $('input[name=tel]').blur(function(){
            var n = $(this).val();
            if(n.length != 11){

                $(this).next().html('*手机号格式不正确！');
                return tel = false;
            }else{

                $(this).next().html('');
                return tel = true;
            }
        })
        //验证编号
        $('input[name=numbering]').blur(function(){
            var nu = $(this).val();
            if(nu.length <= 9){
                $(this).next().html('*编号格式不正确！');
                return numeric = false;
            }else{

                $(this).next().html('');
                return numeric = true;
            }
        })

        //验证邮箱
        $('input[name=email]').blur(function(){
            var na = $(this).val();
            var ret = /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;
            if(na.length == 0){
                $(this).next().html('*邮箱不能为空！');
                return email = false;
            }else if(!ret.test(na)){
               $(this).next().html('*邮箱格式不正确！');
                return email = false;
            }else{
                $(this).next().html('');
                return email = true;
            }
        })


        $('input[name=gongzuonianxian]').blur(function(){
            var naa = $(this).val();
            if(naa.length == 0){
                $(this).next().html('*年份不能为空！');
                return gzn = false;
            }else if(isNaN(naa)){
               $(this).next().html('请输入整数年限！');
                return gzn = false;
            }else if(naa<0){
               $(this).next().html('不可以为负数！');
                return gzx = false;
            }else if(naa>50){
               $(this).next().html('年限不合法！');
                return gzx = false;
            }else{
                $(this).next().html('');
                return gzn = true;
            }
        })


        //限制 SUBMIT
        $('.am-btn').click(function(){

            $('input[name=gongzuonianxian]').blur();
            $('input[name=realname]').blur();
            $('input[name=tel]').blur();
            $('input[name=email]').blur();
            $('input[name=numbering]').blur();
            console.log(realname);
            console.log(tel);
            console.log(email);
            console.log(numeric);
            console.log(gzn);

            if(realname && tel && email && numeric && gzn){

                return true;
            }else{

                return false;
            }
        })
    })
</script>
</block>
